node {
  stage ('Checkout')
  {
    // Get the code from the Git repository
    checkout scm
  }

  stage('Git to ISPW Synchronization')
  {
gitToIspwIntegration app: 'PLAY',
branchMapping: '''*Play* => DEV2, per-branch''',
connectionId: 'zdt3-connection',
credentialsId: '14c2cd95-5a8f-47be-b7cd-63741a5b59df',
gitCredentialsId: 'github',
gitRepoUrl: 'https://github.com/tboatman/ispwgitplaytest.git',
runtimeConfig: 'ISPP',
ispwConfigPath: 'ispwconfig.yml',
stream: 'PLAY',
subAppl: 'PLAY'
  }

  stage('Build ISPW assignment')
  {
ispwOperation connectionId: 'zdt3-connection',
consoleLogResponseBody: true,
credentialsId: '14c2cd95-5a8f-47be-b7cd-63741a5b59df',
ispwAction: 'BuildAssignment',
ispwRequestBody: '''buildautomatically = false
'''
  }
}
